<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">

<t t-name="project_budget.clientaction" owl="1">
    <Layout display="display">
        <t t-set-slot="control-panel-bottom-left">
            <button class="btn btn-primary" t-on-click="openCustomerView"> Customers </button>
            <button class="btn btn-primary" t-on-click="openLast7DaysOrders"> New Projects </button>
            <button class="btn btn-primary" t-on-click="openLast7DaysCancelledOrders"> Cancelled Projects </button>
        </t>
    </Layout>

<!--    <div class="p-3">-->
<!--        <Counter class="mt-3"/>-->
<!--        <Card>-->
<!--            <t t-set-slot="title">My card</t>-->
<!--            Some quick example text...-->
<!--        </Card>-->
<!--        <TodoList/>-->
<!--    </div>-->

    <t t-call="project_budget.clientaction.statistics"/>

    <div class="m-3 container">
        <div class="row">
            <Card className="'w-25'">
                <t t-set-slot="title">Q1 Contracting</t>
                <PieChart data="statistics['plan_q1']"/>
                <h4 style="width: 100%; height: 40px; position: absolute; top: 50%; left: 0; margin-top: 0px; line-height: 6px; text-align: center; z-index: 999999999999999">
                    <t t-esc="statistics['plan_q1'][3]"/>
                </h4>
                <t t-set-slot="legend" t-esc="statistics['plan_q1'][4]"/>
            </Card>
            <Card className="'w-25'">
                <t t-set-slot="title">Q2 Contracting</t>
                <PieChart data="statistics['plan_q2']"/>
                <h4 style="width: 100%; height: 40px; position: absolute; top: 50%; left: 0; margin-top: 0px; line-height: 6px; text-align: center; z-index: 999999999999999">
                    <t t-esc="statistics['plan_q2'][3]"/>
                </h4>
                <t t-set-slot="legend" t-esc="statistics['plan_q2'][4]"/>
            </Card>
            <Card className="'w-25'">
                <t t-set-slot="title">Q3 Contracting</t>
                <PieChart data="statistics['plan_q3']"/>
                <h4 style="width: 100%; height: 40px; position: absolute; top: 50%; left: 0; margin-top: 0px; line-height: 6px; text-align: center; z-index: 999999999999999">
                    <t t-esc="statistics['plan_q3'][3]"/>
                </h4>
                <t t-set-slot="legend" t-esc="statistics['plan_q3'][4]"/>
            </Card>
            <Card className="'w-25'">
                <t t-set-slot="title">Q4 Contracting</t>
                <PieChart data="statistics['plan_q4']"/>
                <h4 style="width: 100%; height: 40px; position: absolute; top: 50%; left: 0; margin-top: 0px; line-height: 6px; text-align: center; z-index: 999999999999999">
                    <t t-esc="statistics['plan_q4'][3]"/>
                </h4>
                <t t-set-slot="legend" t-esc="statistics['plan_q4'][4]"/>
            </Card>
         </div>
    </div>
    <div class="m-3 container">
        <div class="row">
            <Card className="'w-25'">
                <t t-set-slot="title">Q1 Contracting</t>
                <BarChart data="statistics['kam_plan_q1']"/>
            </Card>
            <Card className="'w-25'">
                <t t-set-slot="title">Q2 Contracting</t>
                <BarChart data="statistics['kam_plan_q2']"/>
            </Card>
            <Card className="'w-25'">
                <t t-set-slot="title">Q3 Contracting</t>
                <BarChart data="statistics['kam_plan_q3']"/>
            </Card>
            <Card className="'w-25'">
                <t t-set-slot="title">Q4 Contracting</t>
                <BarChart data="statistics['kam_plan_q4']"/>
            </Card>
         </div>
    </div>
</t>

<t t-name="project_budget.clientaction.statistics" owl="1">
    <div class="d-flex flex-nowrap">
        <div t-foreach="keyToString" t-as="key" t-key="key" class="m-2">
            <Card>
                <t t-set-slot="title"><t t-esc="keyToString[key]"/></t>
                <p class="card-text"><t t-esc="statistics[key]"/></p>
            </Card>
        </div>
    </div>
</t>

</templates>
