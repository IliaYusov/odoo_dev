$o-processing-step-width: map-get($container-max-widths, 'lg') / 4 !default;

.o_processing_main {
    background: white center top;
    background-size: cover;

    // = Color Variations
    // ------------------------------------------------------------------------
    @each $key, $values in $o-processing-colors {
        &.o_processing_#{$key} {
            $-ui: map-get($values, 'ui');

            @include print-variable('o-processing-done-color', nth($-ui, 1));
            @include print-variable('o-processing-todo-color', nth($-ui, 2));
        }
    }

    .o_processing_wrap {
        overflow-x: auto;
    }

    // = Step Design
    // ------------------------------------------------------------------------
    .o_processing_step {
        flex: 1 1 0;

        .o_processing_step_content {
            width: $o-processing-step-width;
        }

        .o_processing_step_action {
            min-width: $o-processing-step-width * .5;
            border: $border-width solid #fff;
        }

        .o_processing_progress {
            height: $o-processing-progress-size;
            width: calc(100% - #{$o-processing-dot-size});
            background: var(--o-processing-todo-color, #{$o-brand-odoo});
            transform:
                translateX(-100%)
                translateY($o-processing-dot-size * .5 - $o-processing-progress-size * .5);
        }

        .o_processing_dot {
            width: $o-processing-dot-size;
            height: $o-processing-dot-size;
            padding-top: .5em;
            background-color: var(--o-processing-todo-color, $o-brand-odoo);
            color: transparent;
            transition: all $o-processing-base-time ease;
            transform: scale3d(.5, .5, .5);
        }

        &:first-of-type .o_processing_progress {
            display: none;
        }

        .o_processing_step_title,
        .o_processing_step_action,
        .o_processing_step_action__done,
        .o_processing_dot_isChecked {
            color: #fff;
        }

        // = "Done" Step Design
        // --------------------------------------------------------------------
        &:not([data-step-state="not_done"])  {
            .o_processing_dot, + .o_processing_step:not([data-step-state="not_done"]) .o_processing_progress {
                background: var(--o-processing-done-color, #{$o-brand-primary});
            }

            .o_processing_dot {
                transform: scale3d(1, 1, 1);
            }
        }
    }
}
