<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="mail_template_task_assigned_notify" model="mail.template">
            <field name="name">Task: Assigned</field>
            <field name="model_id" ref="task.model_task_task"/>
            <field name="subject">Task {{ object.code }} {{ object.display_name }} assigned to you</field>
            <field name="description">Template to automate email when tasks assigned to users</field>
            <field name="email_to">{{ ctx['user_id'].email }}</field>
            <field name="lang">{{ ctx['user_id'].lang }}</field>
            <field name="auto_delete" eval="True"/>
            <field name="body_html" type="html">
                <table cols="1" cellpadding="12"
                       style="box-sizing:border-box;border-collapse:collapse;caption-side:bottom;">
                    <tbody style="border-style:solid;box-sizing:border-box;border-left-width:0px;border-bottom-width:0px;border-right-width:0px;border-top-width:0px;border-left-color:inherit;border-bottom-color:inherit;border-right-color:inherit;border-top-color:inherit;">
                        <tr style="border-style:solid;box-sizing:border-box;border-left-width:0px;border-bottom-width:0px;border-right-width:0px;border-top-width:0px;border-left-color:inherit;border-bottom-color:inherit;border-right-color:inherit;border-top-color:inherit;">
                            <td align="center" bgcolor="0f5f8b"
                                style="border-style:solid;box-sizing:border-box;border-left-width:0px;border-bottom-width:0px;border-right-width:0px;border-top-width:0px;border-left-color:inherit;border-bottom-color:inherit;border-right-color:inherit;border-top-color:inherit;">
                                <a t-att-href="(object._compute_url())"
                                   style="text-decoration:none;box-sizing:border-box;color: #fff; font-size:13px; font-family:sans-serif;">
                                    <span style="text-transform:uppercase">View Task</span>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div style="margin: 0px; padding: 0px; font-size: 13px;">
                    <br/>
                    Dear <t t-out="ctx['user_id'].name or ''">user</t>,
                    <br/>
                    <br/>
                    <p style="margin:0px 0 12px 0;box-sizing:border-box;">
                        <t t-out="object.write_uid.name or ''">author</t>,
                        has just assigned you the following task:
                    </p>
                    <ul style="padding:0 0 0 24px;margin:0px 0 12px 0;box-sizing:border-box;">
                        <li>Subject: "<t t-esc="object.name">Task subject</t>"
                        </li>
                        <li>Priority: <t t-esc="object.priority">Medium</t>
                        </li>
                        <li>Deadline: <t t-esc="object.date_deadline">01.01.2023</t>
                        </li>
                        <li>Description: <t t-esc="object.description or ''">Description</t>
                        </li>
                    </ul>
                    <p style="margin:0px 0 12px 0;box-sizing:border-box;"></p>
                </div>
            </field>
        </record>

        <record id="mail_template_task_change_stage" model="mail.template">
            <field name="name">Task: Stage Changed</field>
            <field name="model_id" ref="task.model_task_task"/>
            <field name="subject">Stage of task {{ object.code }} {{ object.display_name }} was changed</field>
            <field name="description">Set this template on a stage to automate email when tasks reach stages</field>
            <field name="email_to">{{ object.author_id.email }}</field>
            <field name="lang">{{ object.author_id.lang }}</field>
            <field name="auto_delete" eval="True"/>
            <field name="body_html" type="html">
                <table cols="1" cellpadding="12"
                       style="box-sizing:border-box;border-collapse:collapse;caption-side:bottom;">
                    <tbody style="border-style:solid;box-sizing:border-box;border-left-width:0px;border-bottom-width:0px;border-right-width:0px;border-top-width:0px;border-left-color:inherit;border-bottom-color:inherit;border-right-color:inherit;border-top-color:inherit;">
                        <tr style="border-style:solid;box-sizing:border-box;border-left-width:0px;border-bottom-width:0px;border-right-width:0px;border-top-width:0px;border-left-color:inherit;border-bottom-color:inherit;border-right-color:inherit;border-top-color:inherit;">
                            <td align="center" bgcolor="0f5f8b"
                                style="border-style:solid;box-sizing:border-box;border-left-width:0px;border-bottom-width:0px;border-right-width:0px;border-top-width:0px;border-left-color:inherit;border-bottom-color:inherit;border-right-color:inherit;border-top-color:inherit;">
                                <a t-att-href="(object._compute_url())"
                                   style="text-decoration:none;box-sizing:border-box;color: #fff; font-size:13px; font-family:sans-serif;">
                                    <span style="text-transform:uppercase">View Task</span>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div style="margin: 0px; padding: 0px; font-size: 13px;">
                    <br/>
                    Dear <t t-out="object.author_id.name or ''">author</t>,
                    <br/>
                    <br/>
                    <p style="margin:0px 0 12px 0;box-sizing:border-box;">
                        <t t-out="object.write_uid.name or ''">user</t>,
                        changed the stage of task
                    </p>
                    <ul style="padding:0 0 0 24px;margin:0px 0 12px 0;box-sizing:border-box;">
                        <li>Subject: "<t t-esc="object.name">Task subject</t>"
                        </li>
                        <li>Priority: <t t-esc="object.priority">Medium</t>
                        </li>
                        <li>Deadline: <t t-esc="object.date_deadline">01.01.2023</t>
                        </li>
                        <li>Description: <t t-esc="object.description or ''">Description</t>
                        </li>
                    </ul>
                    on: <t t-out="object.stage_id.name or ''">In Progress</t>.
                    <t t-if="object.is_closed">
                        <t t-if="object.execution_result">
                            <br/>
                            With the comment: <t t-esc="object.execution_result_text or ''">Comment</t>
                        </t>
                    </t>
                    <p style="margin:0px 0 12px 0;box-sizing:border-box;"></p>
                </div>
            </field>
        </record>
    </data>
</odoo>
