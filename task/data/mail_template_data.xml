<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="mail_template_task_assigned_notify" model="mail.template">
            <field name="name">Task: Assigned</field>
            <field name="model_id" ref="task.model_task_task"/>
            <field name="subject">Task {{ object.code }} {{ object.display_name }} assigned to you</field>
            <field name="description">Template to automate email when tasks assigned to user</field>
            <field name="email_to">{{object.user_id.email}}</field>
            <field name="lang">{{ object.user_id.lang }}</field>
            <field name="auto_delete" eval="True"/>
            <field name="body_html" type="html">
                <img t-att-src="'/logo.png?company=%s' % object.company_id.id"
                     style="box-sizing:border-box;vertical-align:middle;padding: 0px; margin: 0px; height: auto; width: 80px;"
                     t-att-alt="'%s' % object.company_id.name" width="80"/>
                <div style="margin: 16px 0px 16px 0px;">
                    <a t-att-href="(object._compute_url())"
                       style="box-sizing:border-box;background-color: #875A7B; padding: 8px 16px 8px 16px; text-decoration: none; color: #fff; border-radius: 5px; font-size:13px;">
                        View Task
                    </a>
                </div>
                <div style="margin: 0px; padding: 0px; font-size: 13px;">
                    Dear <span t-field="object.user_id.name"/>,
                    <br/>
                    <br/>
                    <p>
                        <span t-field="object.write_uid.name"/>
                        has just assigned you the following task:
                        <ul>
                            <li>Task: "<t t-esc="object.name"/>"
                            </li>
                            <li>Code:
                                <span t-field="object.code"/>
                            </li>
                            <li>Deadline:
                                <span t-field="object.date_deadline"/>
                            </li>
                        </ul>
                    </p>
                </div>
            </field>
        </record>

        <record id="mail_template_task_change_stage" model="mail.template">
            <field name="name">Task: Stage Changed</field>
            <field name="model_id" ref="task.model_task_task"/>
            <field name="subject">Stage of task {{ object.code }} {{ object.display_name }} was changed</field>
            <field name="description">Set this template on a stage to automate email when tasks reach stages</field>
            <field name="email_to">{{object.create_uid.email}}</field>
            <field name="lang">{{ object.create_uid.lang }}</field>
            <field name="auto_delete" eval="True"/>
            <field name="body_html" type="html">
                <img t-att-src="'/logo.png?company=%s' % object.company_id.id"
                     style="box-sizing:border-box;vertical-align:middle;padding: 0px; margin: 0px; height: auto; width: 80px;"
                     t-att-alt="'%s' % object.company_id.name" width="80"/>
                <div style="margin: 16px 0px 16px 0px;">
                    <a t-att-href="(object._compute_url())"
                       style="box-sizing:border-box;background-color: #875A7B; padding: 8px 16px 8px 16px; text-decoration: none; color: #fff; border-radius: 5px; font-size:13px;">
                        View Task
                    </a>
                </div>
                <div style="margin: 0px; padding: 0px; font-size: 13px;">
                    Dear <span t-field="object.create_uid.name"/>,
                    <br/>
                    <br/>
                    <p>
                        <span t-field="object.write_uid.name"/>
                        changed the stage of task on:
                        <ul>
                            <li>Task: "<t t-esc="object.name"/>"
                            </li>
                            <li>Code:
                                <span t-field="object.code"/>
                            </li>
                            <li>Stage:
                                <span t-field="object.date_deadline"/>
                            </li>
                            <li>Deadline:
                                <span t-field="object.date_deadline"/>
                            </li>
                        </ul>
                    </p>
                </div>
            </field>
        </record>
    </data>
</odoo>
